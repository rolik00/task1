#!/bin/bash

#Экспортируем переменные окружений LENGTH и WIDTH
export LENGTH
export WIDTH

# Считываем значения длины и ширины прямоугольника из переменных окружения
length=$LENGTH
width=$WIDTH

# Проверка наличия переменных окружения
if [[ -z "$length" || -z "$width" ]]; then
  echo "Ошибка: необходимо задать переменные окружения"
  exit 1
fi

# Проверяем, что введенные значения являются положительными числами
if ! [[ "$length" =~ ^[0-9]+$ ]]; then
  echo "Ошибка: Длина должна быть положительным числом"
  exit 1
fi

if ! [[ "$width" =~ ^[0-9]+$ ]]; then
  echo "Ошибка: Ширина должна быть положительным числом"
  exit 1
fi

# Считываем периметр прямоугольника
((perimeter=2*(length+width)))

# Записываем результат в файл out.txt
echo "Периметр прямоугольника: $perimeter" > out.txt

echo "Результат записан в файл out.txt"
